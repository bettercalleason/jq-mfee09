<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>instagram example</title>

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
      crossorigin="anonymous"
    />

    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
      integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr"
      crossorigin="anonymous"
    />

    <link rel="stylesheet" href="./example-ig-api.css" />
  </head>
  <body>
    <header>
      <div class="container">
        <div class="row justify-content-between">
          <div class="logo"><img src="./imgs/insta/logo.png" alt="" /></div>
          <div class="search-input">
            <input type="text" placeholder="搜尋" />
          </div>
          <div class="login-area">
            <button class="btn btn-primary">登入</button>
            <button class="btn btn-link">註冊</button>
          </div>
        </div>
      </div>
    </header>

    <main>
      <div class="container">
        <div class="row">
          <div class="personal-img-area col-3">
            <div class="personal-img">
              <img
                src="https://instagram.ftpe7-4.fna.fbcdn.net/v/t51.2885-19/s150x150/116870895_2761740814046919_412789886659001746_n.jpg?_nc_ht=instagram.ftpe7-4.fna.fbcdn.net&_nc_ohc=QKrIf4vHhXIAX9Axa3x&oh=01515c237b9328aae97ccaaa45dffb28&oe=5F8BC3B3"
                alt=""
              />
            </div>
          </div>
          <div class="personal-info-area col-4">
            <div class="first-row">
              <span class="username">Name</span>
              <span class="check"></span>
              <a href="#" class="btn btn-primary btn-sm">追蹤</a>
            </div>
            <div class="sec-row d-flex justify-content-between">
              <div class="post">
                <span class="post-number font-weight-bold">2345</span
                ><span>貼文</span>
              </div>
              <div class="follower">
                <span class="follower-number font-weight-bold">15.3</span
                ><span>萬</span>
              </div>
              <div class="following">
                <span class="following font-weight-bold">94</span
                ><span>追蹤中</span>
              </div>
            </div>
            <div class="third-row">
              <p class="font-weight-bold">GQ Taiwan</p>
              <p class="info-text">To become a better man, follow GQ Taiwan.</p>
              <p>更多精彩內容請至</p>
              <p>gq.com.tw/instagram</p>
            </div>
          </div>
        </div>

        <div class="row hightlight justify-content-around">
          <div class="circle">
            <img
              src="https://instagram.ftpe7-4.fna.fbcdn.net/v/t51.2885-15/s150x150/118748532_234361727934347_3731186177358460157_n.jpg?_nc_ht=instagram.ftpe7-4.fna.fbcdn.net&_nc_ohc=Ovu6WDHod4cAX-p7oXk&oh=20487eba4d14fc4c3738407b24ae2837&oe=5F8AFFE7"
              alt=""
            />
            <p class="font-weight-bold mt-2 text-center small text-truncate">
              封面人物
            </p>
          </div>
          <div class="circle">
            <img
              src="https://instagram.ftpe7-2.fna.fbcdn.net/v/t51.12442-15/e35/c0.437.1125.1125a/s150x150/88197199_206261593815904_8133556715046853911_n.jpg?_nc_ht=instagram.ftpe7-2.fna.fbcdn.net&_nc_cat=104&_nc_ohc=TRncXVl7dY4AX_Y1IQb&_nc_tp=16&oh=4f1d4abdfd94ec60ac1c49fa32dc3f52&oe=5F645D62"
              alt=""
            />
            <p class="font-weight-bold mt-2 text-center small text-truncate">
              2020 Suit Walk
            </p>
          </div>
          <div class="circle"></div>
          <div class="circle"></div>
          <div class="circle"></div>
          <div class="circle"></div>
          <div class="circle"></div>
        </div>

        <div class="row justify-content-center">
          <div class="pageLink small font-weight-bold">貼文</div>
          <div class="pageLink small font-weight-bold">IGTV</div>
          <div class="pageLink small font-weight-bold">已標註</div>
        </div>

        <div class="row content-area">
          <div class="col-4 position-relative overflow-hidden p-4">
            <!-- <div class="info-mask m-4">123</div> -->
            <img
              class=""
              src="https://instagram.ftpe7-1.fna.fbcdn.net/v/t51.2885-15/sh0.08/e35/c0.135.1080.1080a/s640x640/119458871_3091746014271070_2842803402900450642_n.jpg?_nc_ht=instagram.ftpe7-1.fna.fbcdn.net&amp;_nc_cat=110&amp;_nc_ohc=IFgdNAoPs_4AX-bH64V&amp;oh=d08e6d7c5cb01884ac2e29532dc96b72&amp;oe=5F8BF24B"
              alt=""
            />
          </div>
          <div class="col-4 position-relative overflow-hidden p-4">
            <!-- <div class="info-mask m-4">123</div> -->
            <img
              class=""
              src="https://instagram.ftpe7-1.fna.fbcdn.net/v/t51.2885-15/sh0.08/e35/c0.135.1080.1080a/s640x640/119458871_3091746014271070_2842803402900450642_n.jpg?_nc_ht=instagram.ftpe7-1.fna.fbcdn.net&amp;_nc_cat=110&amp;_nc_ohc=IFgdNAoPs_4AX-bH64V&amp;oh=d08e6d7c5cb01884ac2e29532dc96b72&amp;oe=5F8BF24B"
              alt=""
            />
          </div>
          <div class="col-4 position-relative overflow-hidden p-4">
            <!-- <div class="info-mask m-4">123</div> -->
            <img
              class=""
              src="https://instagram.ftpe7-1.fna.fbcdn.net/v/t51.2885-15/sh0.08/e35/c0.135.1080.1080a/s640x640/119458871_3091746014271070_2842803402900450642_n.jpg?_nc_ht=instagram.ftpe7-1.fna.fbcdn.net&amp;_nc_cat=110&amp;_nc_ohc=IFgdNAoPs_4AX-bH64V&amp;oh=d08e6d7c5cb01884ac2e29532dc96b72&amp;oe=5F8BF24B"
              alt=""
            />
          </div>
        </div>
      </div>
    </main>

    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"
    ></script>
    <script>
      //https://www.instagram.com/gqtaiwan/?__a=1
      $.ajax({
        method: 'GET',
        url: 'https://www.instagram.com/gqtaiwan/?__a=1',
      })
        .done(function (result) {
          console.log(result);

          console.log('profile img:', result.graphql.user.profile_pic_url_hd);

          console.log('user_name:', result.graphql.user.username);

          console.log(
            '貼文:',
            result.graphql.user.edge_owner_to_timeline_media.count
          );

          console.log('追蹤者:', result.graphql.user.edge_followed_by.count);

          console.log('追蹤中:', result.graphql.user.edge_follow.count);

          console.log('full_name:', result.graphql.user.full_name);

          console.log('短簡介：', result.graphql.user.biography);

          console.log('網址：', result.graphql.user.external_url);
        })
        .fail(function () {
          console.log('error');
        })
        .always(function () {
          //   console.log('complete');
        });

      //Highlight
      //https://www.instagram.com/graphql/query/?query_hash=d4d88dc1500312af6f937f7b804c68c3&variables=%7B%22user_id%22%3A%221371344513%22%2C%22include_chaining%22%3Atrue%2C%22include_reel%22%3Atrue%2C%22include_suggested_users%22%3Afalse%2C%22include_logged_out_extras%22%3Afalse%2C%22include_highlight_reels%22%3Atrue%2C%22include_live_status%22%3Atrue%7D

      $.ajax({
        method: 'GET',
        url:
          'https://www.instagram.com/graphql/query/?query_hash=d4d88dc1500312af6f937f7b804c68c3&variables=%7B%22user_id%22%3A%221371344513%22%2C%22include_chaining%22%3Atrue%2C%22include_reel%22%3Atrue%2C%22include_suggested_users%22%3Afalse%2C%22include_logged_out_extras%22%3Afalse%2C%22include_highlight_reels%22%3Atrue%2C%22include_live_status%22%3Atrue%7D',
      })
        .done(function (result) {
          //   console.log(result);

          console.log(
            '1_img:',
            result.data.user.edge_highlight_reels.edges[0].node
              .cover_media_cropped_thumbnail.url
          );

          console.log(
            '1_name:',
            result.data.user.edge_highlight_reels.edges[0].node.title
          );

          console.log(
            '2_img:',
            result.data.user.edge_highlight_reels.edges[1].node
              .cover_media_cropped_thumbnail.url
          );

          console.log(
            '2_name:',
            result.data.user.edge_highlight_reels.edges[1].node.title
          );

          let highlightArray = result.data.user.edge_highlight_reels.edges;

          for (let i = 0; i < highlightArray.length; i++) {
            console.log('highlight:', i, highlightArray[i]);
          }
        })
        .fail(function () {
          console.log('error');
        })
        .always(function () {
          //   console.log('complete');
        });

      //   $.ajax({
      //     method: 'GET',
      //     url:
      //       'https://www.instagram.com/graphql/query/?query_id=17888483320059182&id=1371344513&first=12',
      //   })
      //     .done(function (result) {
      //       console.log(result);
      //       console.log(
      //         'img:',
      //         result.data.user.edge_owner_to_timeline_media.edges[0].node
      //           .display_url
      //       );

      //       console.log(
      //         '喜愛數:',
      //         result.data.user.edge_owner_to_timeline_media.edges[0].node
      //           .edge_media_preview_like
      //       );

      //       console.log(
      //         '留言數:',
      //         result.data.user.edge_owner_to_timeline_media.edges[0].node
      //           .edge_media_to_comment
      //       );
      //     })
      //     .fail(function () {
      //       console.log('error');
      //     })
      //     .always(function () {
      //       console.log('complete');
      //     });
    </script>
  </body>
</html>
